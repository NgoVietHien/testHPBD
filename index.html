<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="title" content="Happy Birthday Website" />
    <title>Happy Birthday üê¨</title>
    <link rel="stylesheet" href="style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@500;700&family=Poppins:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  </head>

  <body>
    <!-- Nh·∫°c n·ªÅn -->
    <audio id="bg-music" loop>
      <source src="hpbd.mp3" type="audio/mpeg" />
    </audio>

    <div id="wrapper">
      <!-- Trang tr√≠ -->
      <div class="flag__birthday">
        <img src="./images/1.png" alt="" width="350" class="flag__left" />
        <img src="./images/1.png" alt="" width="350" class="flag__right" />
      </div>

      <!-- N·ªôi dung ch√≠nh -->
      <div class="content">
        <!-- B√™n tr√°i -->
        <div class="left">
          <div class="title">
            <h1 class="happy">
              <span style="--t: 4s">H</span>
              <span style="--t: 4.2s">a</span>
              <span style="--t: 4.4s">p</span>
              <span style="--t: 4.6s">p</span>
              <span style="--t: 4.8s">y</span>
            </h1>
            <h1 class="birthday">
              <span style="--t: 5s">B</span>
              <span style="--t: 5.2s">i</span>
              <span style="--t: 5.4s">r</span>
              <span style="--t: 5.6s">t</span>
              <span style="--t: 5.8s">h</span>
              <span style="--t: 6s">d</span>
              <span style="--t: 6.2s">a</span>
              <span style="--t: 6.4s">y</span>
            </h1>
            <div class="hat">
              <img src="./images/hat.png" alt="" width="130" />
            </div>
          </div>

          <!-- Ng√†y sinh -->
          <div class="date__of__birth"><span></span></div>

          <!-- N√∫t m·ªü th∆∞ -->
          <div class="btn">
            <button id="btn__letter">
              <div class="mail">
                Click Here <i class="fa-regular fa-envelope"></i>
              </div>
            </button>
          </div>
        </div>

        <!-- B√™n ph·∫£i -->
        <div class="right">
          <div class="box__account">
            <div class="image">
              <img src="./images/unnamed.png" alt="" />
            </div>
            <div class="name">
              <i class="fa-solid fa-heart"></i>
              <span>User name</span>
              <i class="fa-solid fa-heart"></i>
            </div>
            <div class="balloon_one">
              <img width="100px" src="./images/balloon1.png" alt="" />
            </div>
            <div class="balloon_two">
              <img width="100px" src="./images/balloon2.png" alt="" />
            </div>
          </div>

          <!-- Ch·ªØ tr√≤n -->
          <div class="cricle">
            <div class="text__cricle">
              <span style="--i: 1">h</span>
              <span style="--i: 2">a</span>
              <span style="--i: 3">p</span>
              <span style="--i: 4">p</span>
              <span style="--i: 5">y</span>
              <span style="--i: 6">-</span>
              <span style="--i: 7">b</span>
              <span style="--i: 8">i</span>
              <span style="--i: 9">r</span>
              <span style="--i: 10">t</span>
              <span style="--i: 11">h</span>
              <span style="--i: 12">d</span>
              <span style="--i: 13">a</span>
              <span style="--i: 14">y</span>
              <span style="--i: 15">-</span>
            </div>
            <i class="fa-solid fa-heart"></i>
          </div>
        </div>
      </div>

      <!-- Trang tr√≠ ph·ª• -->
      <div class="decorate_star star1"></div>
      <div class="decorate_star star2"></div>
      <div class="decorate_star star3"></div>
      <div class="decorate_star star4"></div>
      <div class="decorate_star star5"></div>
      <div class="decorate_flower--one">
        <img width="20" src="./images/decorate_flower.png" alt="" />
      </div>
      <div class="decorate_flower--two">
        <img width="20" src="./images/decorate_flower.png" alt="" />
      </div>
      <div class="decorate_flower--three">
        <img width="20" src="./images/decorate_flower.png" alt="" />
      </div>
      <div class="decorate_bottom">
        <img src="./images/decorate.png" alt="" width="100" />
      </div>
      <div class="smiley__icon">
        <img src="./images/smiley_icon.png" alt="" width="100" />
      </div>

      <!-- H·ªôp th∆∞ -->
      <div class="boxMail">
        <i class="fa-solid fa-xmark"></i>
        <div class="boxMail-container">
          <div class="card1">
            <div class="userImg">
              <img src="images/unnamed.png" alt="" />
            </div>
            <h3>Happy Birthday</h3>
            <h3 class="username">User name<span class="underline"></span></h3>
            <div class="imageCute">
              <img src="cute1.png" alt="" />
            </div>
          </div>
          <div class="card2">
            <div class="card2-content">
              <h3 id="typing-title"></h3>
              <h2 id="typing-text"></h2>
              <div class="imageCute2">
                <img src="cute2.png" alt="" />
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Script -->
    <script>
      // === C·∫§U H√åNH ===
      const dateText = "Th√°ng m∆∞·ªùi";
      const letterTitle = "To You!";
      const letterContent = `Happy Birthdayyyü•≥üéÇ. Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quod.ü•∞. 
      Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quod.üçÄ.<br> 
Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quod.üåüüê¨<br><br><br>
MouseüêÅ.`;

      // === H√ÄM D√ôNG CHUNG ===
      function typeWriter(element, text, speed = 50, callback = null) {
        element.innerHTML = "";
        let index = 0;

        (function typing() {
          if (index < text.length) {
            if (text[index] === "<") {
              // N·∫øu g·∫∑p th·∫ª HTML (vd: <br>)
              let endIndex = text.indexOf(">", index);
              element.innerHTML += text.slice(index, endIndex + 1);
              index = endIndex + 1;
            } else {
              element.innerHTML += text[index];
              index++;
            }
            setTimeout(typing, speed);
          } else if (callback) callback();
        })();
      }

      // === NH·∫†C N·ªÄN ===
      window.addEventListener(
        "click",
        () => document.getElementById("bg-music").play(),
        { once: true }
      );

      // === G√ï NG√ÄY SINH ===
      const dateSpan = document.querySelector(".date__of__birth span");
      setTimeout(() => {
        typeWriter(dateSpan, dateText, 100, () => {
          let i = document.createElement("i");
          i.className = "fa-solid fa-star";
          document.querySelector(".date__of__birth").prepend(i);
          document
            .querySelector(".date__of__birth")
            .appendChild(i.cloneNode(true));
        });
      }, 12000);

      // === HI·ªÜU ·ª®NG M·ªû TH∆Ø ===
      const mailBox = document.querySelector(".mail");
      const boxMail = document.querySelector(".boxMail");
      const closeBtn = document.querySelector(".fa-xmark");
      const typingTitle = document.getElementById("typing-title");
      const typingText = document.getElementById("typing-text");

      mailBox.onclick = () => {
        boxMail.classList.add("active");
        typeWriter(typingTitle, letterTitle, 150, () => {
          setTimeout(() => typeWriter(typingText, letterContent, 60), 300);
        });
      };

      closeBtn.addEventListener("click", () => {
        boxMail.classList.remove("active");
        typingTitle.textContent = "";
        typingText.textContent = "";
      });
    </script>
  </body>
</html>
